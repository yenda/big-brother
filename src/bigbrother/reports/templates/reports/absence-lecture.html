{% extends "master.html" %}
{% load bootstrap3 %}
{% load static from staticfiles %}

{% block content %}

<h1><a href={% url "lecture" lecture.pk %}>Absences in {{ lecture.name }}</a></h1>


<div style="text-align: center">
    <canvas id="myChart" width="800" height="400"></canvas>
</div>


    <br>
    <br>

<div class=list-group">
{% for event in events %}
        <a href="{% url "event-report" event.pk %}" class="list-group-item">
        {{ event.start }} - {{ event.end }}
        {% if event.report %}
            {% with event.absences.count as count %}
            <span class="badge" style="background-color: #d9534f">{{ event.absences.count }} absence{% if count > 1 %}s{% endif %}</span>
            {% endwith %}
        {% endif %}
        </a>
{% endfor %}
</div>

{% endblock content %}

{% block extra_js %}

<script src="{% static 'bigbrother/js/Chart.min.js' %}"></script>

    <script>
    var data = {
        labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [
            {
                label: "My First dataset",
                fillColor: "rgba(220,220,220,0.2)",
                strokeColor: "rgba(220,220,220,1)",
                pointColor: "rgba(220,220,220,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data: [65, 59, 80, 81, 56, 55, 40]
            },
            {
                label: "My Second dataset",
                fillColor: "rgba(151,187,205,0.2)",
                strokeColor: "rgba(151,187,205,1)",
                pointColor: "rgba(151,187,205,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(151,187,205,1)",
                data: [28, 48, 40, 19, 86, 27, 90]
            }
        ]
    };

    var options = {
    };

    // Get the context of the canvas element we want to select
    var ctx = document.getElementById("myChart").getContext("2d");
    var myLineChart = new Chart(ctx).Line(data, options);
</script>


{% endblock %}